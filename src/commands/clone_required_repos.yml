description: >
  "Setup git and clone required repositories"
steps:
  - run:
      name: Set Git Username and Email
      command: <<include(scripts/set_git_user.sh)>>
  - run:
      name: Add github to known hosts
      command: mkdir -p ~/.ssh && ssh-keyscan github.com >> ~/.ssh/known_hosts
  - run:
      name: Clone source repository
      command: git clone $CIRCLE_REPOSITORY_URL $SOURCE_REPO_DIRECTORY
  - run:
      name: Clone target repository
      command: git clone $TARGET_REPO $TARGET_REPO_DIRECTORY
